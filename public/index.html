<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sklep z Aromatami</title>
    <link rel="stylesheet" href="style.css">
    <script>
        async function checkUserSession() {
            try {
                const response = await fetch('https://twoj-serwer.onrender.com/session-username');
                if (response.ok) {
                    const { username } = await response.json();
                    if (username) {
                        document.getElementById('user-greeting').textContent = `Zalogowany jako: ${username}`;
                        return;
                    }
                }
                // Jeśli użytkownik nie jest zalogowany, przekieruj na stronę logowania
                window.location.href = 'login.html';
            } catch (error) {
                console.error('Błąd podczas sprawdzania sesji:', error);
                window.location.href = 'login.html';
            }
        }

        window.onload = checkUserSession;
    </script>
</head>
<body>
    <header>
        <div class="logo">Sklep z Aromatami</div>
        <nav>
            <ul>
                <li><a href="#home">Strona Główna</a></li>
                <li><a href="#shop">Sklep</a></li>
                <li><a href="#about">O Nas</a></li>
                <li><a href="#contact">Kontakt</a></li>
                <li><a href="cart.html">Koszyk (<span id="cart-count">0</span>)</a></li>
            </ul>
        </nav>
        <div id="user-greeting"></div>
        <button id="logout-button">Wyloguj</button>
        
        <div id="session-timer" style="position: absolute; top: 10px; right: 10px; background-color: #000; color: #fff; padding: 5px; border: 1px solid #ccc; border-radius: 5px;">
            Pozostały czas sesji: <span id="time-remaining">15:00</span>
        </div>
    </header>

    <main>
        <section id="home">
            <h1>Witaj w naszym sklepie!</h1>
            <p>Oferujemy szeroki wybór aromatów. Sprawdź nasze produkty!</p>
            <a href="#shop" class="button">Zobacz Produkty</a>
        </section>

        <section id="shop">
            <h2>Nasze Produkty</h2>
            <div class="product-grid">
                <div class="product">
                    <img src="images/banana-ice.webp" alt="Banana Ice">
                    <h3>Banana Ice</h3>
                    <button onclick="addToCart('Banana Ice')">Dodaj do koszyka</button>
                </div>
                <div class="product">
                    <img src="images/blue-razz-lemonade.webp" alt="Blue Razz Lemonade">
                    <h3>Blue Razz Lemonade</h3>
                    <button onclick="addToCart('Blue Razz Lemonade')">Dodaj do koszyka</button>
                </div>
                <div class="product">
                    <img src="images/blueberry-on-ice.webp" alt="Blueberry On Ice">
                    <h3>Blueberry On Ice</h3>
                    <button onclick="addToCart('Blueberry On Ice')">Dodaj do koszyka</button>
                </div>
                <!-- Dodaj inne produkty -->
            </div>
        </section>

        <section id="about">
            <h2>O Nas</h2>
            <p>Jesteśmy pasjonatami aromatów i oferujemy najwyższej jakości produkty dla naszych klientów.</p>
        </section>

        <section id="contact">
            <h2>Kontakt</h2>
            <form id="contact-form">
                <label for="name">Imię:</label>
                <input type="text" id="name" name="name" required>

                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>

                <label for="message">Wiadomość:</label>
                <textarea id="message" name="message" required></textarea>

                <button type="submit">Wyślij</button>
            </form>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 Sklep z Aromatami. Wszystkie prawa zastrzeżone.</p>
    </footer>

    <!-- Dodaj kontener na powiadomienia -->
    <div id="notification" style="position: fixed; bottom: 10px; right: 10px; background-color: #4CAF50; color: white; padding: 15px; border-radius: 5px; display: none; align-items: center;">
        <span id="notification-icon" style="margin-right: 10px;">✔️</span>
        <span id="notification-text">Dodano do koszyka</span>
    </div>

    <div id="floating-cart" style="position: fixed; bottom: 10px; left: 10px; background-color: #333; color: white; padding: 10px; border-radius: 5px; display: none;">
        Koszyk: <span id="floating-cart-count">0</span>
    </div>

    <!-- Skrypt JavaScript -->
    <script src="script.js"></script>
</body>
</html>
